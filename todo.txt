# TODO


# Known bugs:
On Australis, changing the greyscale setting while the button is not displayed
results in the button not conforming to the setting


# 1.0.0/0.8.3
Release to get out of beta...
Test to make sure unload() callbacks all happen if a window has
 been opened and then closed again                                          - DONE
Update Russian translation                                                  - DONE
Test on Linux                                                               - DONE
Test on FF 24, SeaMonkey 2.26, FF 29
 - FF 24.5 - Test customisation of UI
Test on FF 30/31 and future versions of SeaMonkey
Test on Palemoon
Review documentation + screenshots

# 1.1.0
Warnings for ip6_disabled and ip4only_domain
 - ip4only_domain should show a badge next to affected domains
 - ip6_disabled should show a warning on the panel
Update documentation
Refactor requestcache/requestobserver
 - Unify host listing object with local host listing object
 - Accessor methods for cache/waitinglist
 - Move methods to destroy entries into requests object
 - Abstract implementation of cache - maybe change from an array
Refactor dns_worker
 - Split OS-specific code into different workers
 - Generic worker using Firefox built-ins (fallback)
 - All switching between workers happens at top level to avoid lots of if...else

Test internationalised domain names handling by native resolvers

Collect nsIHttpChannelInternal.localAddress info for each request
Use in display of local addresses in panel
 - Highlight addresses used to load pages?

Detection of IP addresses which aren't returned for DNS lookup on local hostname
 - E.g. tunnel addresses (working now)
Retrieve interface information along with addresses
Retrieve netmask information for each address and display (e.g. 1999::1/64)

# 1.2.0
Proxy detection + info
Add better proxy detection (per-connection) and icon display
 Use: https://developer.mozilla.org/en/XPCOM_Interface_Reference/nsIProtocolProxyService
 Same way that DNS lookups are done, with a callback
Disable native DNS resolution for proxied connections
investigate channelIsForDownload on nsIHttpChannelInternal
Update documentation

# TODO FUTURE
Handling for edge-cases and special pages (text)
Add ability to copy a list of all files fetched to clipboard (per-domain)
Icon display in status bar on SeaMonkey/Firefox alternatives
Reverse DNS lookups? (local/remote)


# Done

# 0.8.2
Local IP address display                                                    - DONE
 - refresh on tooltip show                                                  - DONE
 - Fix tooltip display for first line of addresses                          - DONE
Private browsing mode checks                                                - DONE
Update documentation + screenshots                                          - DONE

# 0.8.1
Refactoring panel to improve code                                           - DONE
Fix legacy button for SeaMonkey/pre-Australis Firefox                       - DONE
FF 24.5 - Listen for customizeToolbar events and inject stylesheet          - DONE
FF 24.5 - Button style for large icons (should be same as small)            - DONE
FF 24.5 - Button style in customize dialog (needs to be small icon)         - DONE
Linux customize panel (popup window) detection + stylesheet inject          - DONE
 - Need to only inject into each panel once!                                - DONE
Direct link to preferences pane                                             - DONE
Better display of settings/online help links                                - DONE
 - Does Linux Australis FF still need large icons? (NO)                     - DONE
Panel layout - spacing between sections + above bottom links                - DONE

# 0.8.0
Fix Australis breakages & refactor

# 0.7.1
Fix memory leaks in cache
Minor code improvements

# 0.7.0
Rewrite to use event-driven model + strip out all the old code from FlagFox - DONE
Add support for nsIHttpChannelInternal detection of connection's IP address - DONE
Switch from tooltip to panel for address display                            - DONE
Display all addresses involved in connections                               - DONE
Display count of connections per domain                                     - DONE
JSLint for utils.js                                                         - DONE
Re-add ability to copy information to clipboard                             - DONE
Update Russian localisation                                                 - DONE
Make preferences work again                                                 - DONE
Compatibility bump to Firefox 7.0/Seamonkey 2.4                             - DONE
Test windowWatcher and so on (ensure unloading works properly)              - DONE
Preferences dialog/pane for Firefox 7                                       - DONE 
Object for images rather than lots of global variables                      - DONE
Handle moving back/foward in history                                        - DONE

# 0.6.6
Check if domain is in network.dns.ipv4OnlyDomains list and display v4 only  - DONE
Check if network.dns.disableIPv6 is set and display warning/never use blue
    icon if so (still use orange icon if we detect an AAAA record)          - DONE
Add seamonkey support                                                       - DONE
Localisation override via preference (for testing etc.)                     - DONE
Add Russion localisation                                                    - DONE
Upgrade functionality, e.g. don't delete prefs if doing an upgrade          - DONE
Loglevel setting for dns_worker                                             - DONE
Implement Windows-specific resolver method for use by XP x86                - DONE
Linux support (needs testing and cleanup)                                   - DONE
Fix Windows ctypes support so that it always returns remote v6 results      - DONE
Add option to show/hide non-global IP addresses (on by default)             - DONE

# 0.6.5
Display local DNS name on tooltip                                           - DONE
Italics for link-local local IPv6                                           - DONE
Italics for link-local IPv4                                                 - DONE
Preferences - turn ctypes usage on/off
            - select greyscale/colour icon set                              - DONE
            - switch address bar icon on/off                                - DONE
            - add preference for debug level                                - DONE
Detecting type of IPv6 local address and alter display of icon accordingly  - DONE
Information added to popup to explain what the icon means?


For tooltip/menu, order IP addresses by type                                - DONE
Favour better classes of addresses                                          - DONE
Hide special cases, e.g. fe80::1 on OSX                                     - DONE

Add 24px icons for larger size buttons                                      - DONE (images there, needs testing on Linux)
Add greyscale icon set (for OSX platform, but selectable anywhere)          - DONE

Menu on-click of the icon to allow you to copy IP addresses to clipboard    - DONE
Native menu look+feel                                                       - DONE
    list of remote IPs  -> tooltip, "click to copy IP address"              - DONE
    list of local IPs   -> tooltip, "click to copy IP address"              - DONE
    Option to open preferences      No preferences, all in the menu         - DONE
    Option to visit addon website + get more information/help               - DONE

Website/help documentation                                                  - DONE

Testing
    Unit tests for core functions
    UI testing, full sequence for moving icon, close+reopen to check it stays in the right place
    Install/uninstall/upgrade sequence testing
    Test on various windows platforms (XP x86, Vista, 7 x86/x64)
    Test on linux + implement ctypes for linux platforms

    Unit tests for dns_handler:sort_ip4 & dns_handler:sort_ip6

